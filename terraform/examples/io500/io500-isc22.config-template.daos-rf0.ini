#
# -----------------------------------
# LRZ DAOS ini file - 1x DAOS Server
# -----------------------------------
#
# IO500 version io500-isc21_v1 :
#
# [RESULT]       ior-easy-write
# [RESULT]    mdtest-easy-write
# [      ]            timestamp
# [RESULT]       ior-hard-write
# [RESULT]    mdtest-hard-write
# [RESULT]                 find
# [RESULT]        ior-easy-read
# [RESULT]     mdtest-easy-stat
# [RESULT]        ior-hard-read
# [RESULT]     mdtest-hard-stat
# [RESULT]   mdtest-easy-delete
# [RESULT]     mdtest-hard-read
# [RESULT]   mdtest-hard-delete
# [SCORE ] Bandwidth x.xx GiB/s : IOPS x.xx kiops : TOTAL x.xx
#

[global]
datadir = $DAOS_FUSE/io500/datafiles
timestamp-datadir = TRUE
resultdir = $DAOS_FUSE/io500/results
timestamp-resultdir = TRUE
api = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
drop-caches = FALSE
drop-caches-cmd = sudo -n bash -c "echo 3 > /proc/sys/vm/drop_caches"
io-buffers-on-gpu = FALSE
verbosity = 1
scc = FALSE

[debug]
stonewall-time = $STONEWALL

[ior-easy]
transferSize = 4m
blockSize = 99000000m
filePerProc = FALSE
uniqueDir = FALSE
verbosity =
run = TRUE

[mdtest-easy]
run = TRUE
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS

[timestamp]

[find-easy]
nproc = $NPROC
run = TRUE

[ior-hard]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS --dfs.chunk_size=470080
segmentCount = 10000000
verbosity =
run = FALSE

[find]
nproc = $NPROC
run = FALSE

[find-hard]
nproc = $NPROC
run = FALSE

[mdtest-easy-stat]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-easy-delete]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-easy-write]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-hard]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-hard-stat]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-hard-read]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE

[mdtest-hard-delete]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = FALSE

[mdtest-hard-write]
API = DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=$DIR_OCLASS --dfs.oclass=$OCLASS
run = TRUE
